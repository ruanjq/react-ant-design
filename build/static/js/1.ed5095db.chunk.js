(this.webpackJsonpadminstock=this.webpackJsonpadminstock||[]).push([[1],{251:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);a(176);var n=a(256),r=a(33),o=a(34),c=a(36),l=a(35),s=a(37),i=a(0),p=a.n(i),u=a(11),m=a(149),h=a(51),f=(a(177),a(257)),d=(a(150),a(147)),y=(a(151),a(128)),E=(a(178),a(255)),v=a(49),b=a(19),O=a(179),g=a.n(O),j=a(196),k=a.n(j);a(56);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=g.a.create({baseURL:"",timeout:6e4,cancelToken:null});I.interceptors.request.use((function(e){if("post"===e.method){var t=k.a.parse(e.data,{parameterLimit:1/0});e.data=k.a.stringify(C({site:"zf"},t))}else"get"===e.method&&(e.params=C({site:"zf"},e.params));return e}),(function(e){console.log(e),Promise.reject(e)})),I.interceptors.response.use((function(e){var t=e.data;switch(t.status){case 200:return t;case 403:break;default:return t}}),(function(e){return g.a.isCancel(e)?(console.log("Request canceled",e.message),Promise.reject(e)):(console.log("err"+e),Promise.reject(e))}));var N=I;var S=E.a.Option,K=p.a.createElement(d.a,{onClick:function(e){switch(e.key){case"logout":window.location.href="/admin/index/loginout"}}},p.a.createElement(d.a.Item,{key:"home"},p.a.createElement("a",{rel:"noopener noreferrer",href:"/"},p.a.createElement(y.a,{type:"home"}),"\xa0\xa0\u9996 \u9875")),p.a.createElement(d.a.Divider,null),p.a.createElement(d.a.Item,{key:"logout"},p.a.createElement("span",{onClick:function(e){return e.preventDefault()}},p.a.createElement(y.a,{type:"poweroff"}),"\u9000\u51fa\u767b\u5f55"))),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){a.setState({currentSite:e.key})},a.state={currentSite:"ZF"},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(this.props===e||Object(m.is)(this.props,e))||!(this.state===t||Object(m.is)(this.state,t))}},{key:"render",value:function(){var e="",t=this.props.app.appInfo.siteinfo||[],a=this.props.app.appInfo.userinfo;return a&&(e=a.real_name),t.length>0&&(this.state.currentSite=t[0].site),p.a.createElement("div",{className:"nav-bar-wrapper clearfix"},p.a.createElement("span",{className:"text"},"\u7ad9\u70b9:"),p.a.createElement("div",{className:"site-menu"},p.a.createElement(E.a,{defaultValue:this.state.currentSite,style:{width:150},onChange:this.handleChange},t.map((function(e,t){return p.a.createElement(S,{key:e.site,value:e.site},e.name)})))),p.a.createElement("div",{className:"fr cursor-pointer"},p.a.createElement(f.a,{overlay:K,placement:"bottomRight"},p.a.createElement("span",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},"\u6b22\u8fce:",e,"\xa0",p.a.createElement(y.a,{type:"down"})))))}}]),t}(p.a.Component),x=Object(v.b)((function(e,t){return{app:e.app}}))(P),D=(a(247),a(174)),A={throllte:function(e,t){var a=!0;return function(){if(a){var n=this,r=arguments;"function"===typeof e&&(a=!1,setTimeout((function(){e.call(n,r),a=!0}),t))}}},debounce:function(e,t){var a=null;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){e.apply(n,r),a=null}),t)}},queryString:function(e,t){var a=new RegExp("[?&]".concat(e,"=([^&]+)"),"g");t=t||window.location.search;for(var n,r="";null!==(n=a.exec(t));)r=n[1];return r}},T=a(248),R=a.n(T),L=a(250);var U=function(){var e=Object(L.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([N({url:"http://localhost:8891/src/JSON/myinfo.json",method:"GET"}),N({url:"http://localhost:8891/src/JSON/siteinfo.json",method:"GET"})]);case 2:a=e.sent,n=function(e){var t={};return e.forEach((function(e,a){0===a?e.data&&(t.authInfo=e.data.authInfo,t.userinfo=e.data.userinfo):1===a&&(t.siteinfo=e.data)})),t}(a),t({type:"APP_INFO",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=d.a.SubMenu,F=100,J=function(e){var t=e.list||[];return 0!=t.length?p.a.createElement(d.a,{defaultSelectedKeys:e.defaultKey,onOpenChange:e.onOpenChange,openKeys:e.openKeys,onClick:e.hanldClick,mode:"inline",theme:"dark",inlineCollapsed:e.collapsed},t.map((function(e,t){return e.menus.length?p.a.createElement(_,{key:t,title:p.a.createElement("span",null,p.a.createElement(y.a,{type:"appstore"}),p.a.createElement("span",null,e.name))},e.menus.map((function(e,a){return e.children.length?p.a.createElement(_,{key:t+""+a,title:p.a.createElement("span",null,e.name," ")},e.children.map((function(e,t){return p.a.createElement(d.a.Item,{key:e.url},e.name)}))):p.a.createElement(d.a.Item,{key:e.url},e.name)}))):p.a.createElement(d.a.Item,{key:e.url},p.a.createElement(y.a,{type:"inbox"}),p.a.createElement("span",null,e.name))}))):null},W=function(e){function t(e,a){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e,a))).onOpenChange=function(e){n.setState({openKeys:e})},n.closeCollapsed=function(){n.setState({collapsed:!0})},n.toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed})},n.linkTo=function(e){n.props.history.push(e.key)},n.state={collapsed:document.body.clientWidth<=F,openKeys:[],defaultKey:n.props.location.pathname,menuData:n.props.app.appInfo.authInfo||[]},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.toggleEventListener(),this.props.dispatch(U)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.app.appInfo.authInfo!==e.app.appInfo.authInfo&&(this.setState({menuData:e.app.appInfo.authInfo}),this.setState({openKeys:this.autoOpenKey(e.app.appInfo.authInfo,this.state.defaultKey)})),this.props.location.pathname!==e.location.pathname&&this.setState({defaultKey:e.location.pathname})}},{key:"toggleEventListener",value:function(){var e=this;window.addEventListener("resize",A.throllte((function(t){document.body.clientWidth<=F?e.closeCollapsed():e.openCollapsed()}),300))}},{key:"autoOpenKey",value:function(e,t){var a=[];return e instanceof Array&&e.forEach((function(e,n){e.menus.length&&e.menus.forEach((function(e,r){e.children.forEach((function(e,o){e.url===t&&(a=[""+n,n+""+r])}))}))})),a}},{key:"openCollapsed",value:function(){this.setState({collapsed:!1})}},{key:"render",value:function(){return p.a.createElement("div",{className:"sider-bar-wrapper ".concat(this.state.collapsed?"sider-bar-close":"sider-bar-open")},p.a.createElement(D.a,{type:"primary",className:"collapsed-sidebar",onClick:this.toggleCollapsed},p.a.createElement(y.a,{type:this.state.collapsed?"menu-unfold":"menu-fold"})),p.a.createElement("div",{className:"logo"},p.a.createElement("a",{href:"/"},p.a.createElement(y.a,{type:"shop"}),p.a.createElement("span",{className:this.state.collapsed?"hidden":""},"Admin Stock"))),p.a.createElement("div",{className:"menu-box"},p.a.createElement(J,{list:this.state.menuData,onOpenChange:this.onOpenChange,defaultKey:this.state.defaultKey,openKeys:this.state.openKeys,hanldClick:this.linkTo})))}}]),t}(p.a.Component),q=Object(u.g)(Object(v.b)((function(e,t){return{app:e.app}}))(W)),z=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){return p.a.createElement("div",{className:"footer-wrapper"},p.a.createElement("iframe",{title:"jsx-a11y/iframe-has-title",src:"http://www.gamiss.com/eload_admin/it.php",width:"100%",height:"70",scrolling:"no",frameBorder:"0",className:"iframe"}))}}]),t}(p.a.Component),G=(a(251),function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(this.props===e||Object(m.is)(this.props,e))||!(this.state===t||Object(m.is)(this.state,t))}},{key:"render",value:function(){var e=this.props.match.path;return console.log("matchPath",e),p.a.createElement("div",{className:"main-content"},p.a.createElement("div",{className:"left"},p.a.createElement(q,null)),p.a.createElement("div",{className:"right"},p.a.createElement(x,null),p.a.createElement("div",{className:"main-wrapper"},p.a.createElement(n.a,null,p.a.createElement(n.a.Item,null,"Home"),p.a.createElement(n.a.Item,null,p.a.createElement("a",{href:"/"},"Application Center")),p.a.createElement(n.a.Item,null,p.a.createElement("a",{href:"/"},"Application List")),p.a.createElement(n.a.Item,null,"An Application")),p.a.createElement("div",{className:"main-body"},h.a.map((function(t,a){if(t.path===e&&t.childRoutes)return p.a.createElement("div",{key:a},t.childRoutes.map((function(t,a){return p.a.createElement(u.b,{component:t.component,exact:!!t.exact,key:a,path:e+""+t.path})})),p.a.createElement(u.a,{exact:!0,from:t.path,to:t.path+"/index"}))})))),p.a.createElement(z,null)))}}]),t}(i.Component));t.default=G}}]);
//# sourceMappingURL=1.ed5095db.chunk.js.map